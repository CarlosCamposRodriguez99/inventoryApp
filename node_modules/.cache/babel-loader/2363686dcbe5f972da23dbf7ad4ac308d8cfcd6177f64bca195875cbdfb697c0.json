{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ALIENWARE\\\\Documents\\\\inventario-app\\\\src\\\\pages\\\\cotizacion.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { collection, getDocs, addDoc } from 'firebase/firestore';\nimport { db } from '../firebaseConfig';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport CotizacionForm from '../components/CotizacionForm';\nimport TablaCotizaciones from '../components/TablaCotizaciones';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MySwal = withReactContent(Swal);\n_c = MySwal;\nfunction CotizacionesContainer() {\n  _s();\n  const [cotizaciones, setCotizaciones] = useState([]);\n  const [mostrarFormulario, setMostrarFormulario] = useState(true);\n  useEffect(() => {\n    obtenerCotizaciones();\n  }, []);\n  const obtenerCotizaciones = async () => {\n    try {\n      const cotizacionesSnapshot = await getDocs(collection(db, 'cotizaciones'));\n      const listaCotizaciones = cotizacionesSnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setCotizaciones(listaCotizaciones);\n    } catch (error) {\n      console.error('Error al obtener las cotizaciones:', error);\n    }\n  };\n  const guardarCotizacion = async cotizacionData => {\n    try {\n      if (!cotizacionData.cliente || !cotizacionData.asunto || !cotizacionData.fechaVencimiento || cotizacionData.productosSeleccionados.length === 0) {\n        MySwal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: 'Todos los campos son obligatorios'\n        });\n        return;\n      }\n      const docRef = await addDoc(collection(db, 'cotizaciones'), cotizacionData);\n      console.log('Cotizaci贸n guardada con ID: ', docRef.id);\n      obtenerCotizaciones();\n      setMostrarFormulario(false);\n    } catch (error) {\n      console.error('Error al guardar la cotizaci贸n:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: mostrarFormulario ? /*#__PURE__*/_jsxDEV(CotizacionForm, {\n      guardarCotizacion: guardarCotizacion\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(TablaCotizaciones, {\n      cotizaciones: cotizaciones\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(CotizacionesContainer, \"VTomTg0QKiait4951C/HlngP4A4=\");\n_c2 = CotizacionesContainer;\nexport default CotizacionesContainer;\nvar _c, _c2;\n$RefreshReg$(_c, \"MySwal\");\n$RefreshReg$(_c2, \"CotizacionesContainer\");","map":{"version":3,"names":["React","useState","useEffect","collection","getDocs","addDoc","db","Swal","withReactContent","CotizacionForm","TablaCotizaciones","jsxDEV","_jsxDEV","MySwal","_c","CotizacionesContainer","_s","cotizaciones","setCotizaciones","mostrarFormulario","setMostrarFormulario","obtenerCotizaciones","cotizacionesSnapshot","listaCotizaciones","docs","map","doc","id","data","error","console","guardarCotizacion","cotizacionData","cliente","asunto","fechaVencimiento","productosSeleccionados","length","fire","icon","title","text","docRef","log","children","fileName","_jsxFileName","lineNumber","columnNumber","_c2","$RefreshReg$"],"sources":["C:/Users/ALIENWARE/Documents/inventario-app/src/pages/cotizacion.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { collection, getDocs, addDoc } from 'firebase/firestore';\r\nimport { db } from '../firebaseConfig';\r\nimport Swal from 'sweetalert2';\r\nimport withReactContent from 'sweetalert2-react-content';\r\nimport CotizacionForm from '../components/CotizacionForm';\r\nimport TablaCotizaciones from '../components/TablaCotizaciones';\r\n\r\nconst MySwal = withReactContent(Swal);\r\n\r\nfunction CotizacionesContainer() {\r\n  const [cotizaciones, setCotizaciones] = useState([]);\r\n  const [mostrarFormulario, setMostrarFormulario] = useState(true);\r\n\r\n  useEffect(() => {\r\n    obtenerCotizaciones();\r\n  }, []);\r\n\r\n  const obtenerCotizaciones = async () => {\r\n    try {\r\n      const cotizacionesSnapshot = await getDocs(collection(db, 'cotizaciones'));\r\n      const listaCotizaciones = cotizacionesSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n      setCotizaciones(listaCotizaciones);\r\n    } catch (error) {\r\n      console.error('Error al obtener las cotizaciones:', error);\r\n    }\r\n  };\r\n\r\n  const guardarCotizacion = async (cotizacionData) => {\r\n    try {\r\n      if (!cotizacionData.cliente || !cotizacionData.asunto || !cotizacionData.fechaVencimiento || cotizacionData.productosSeleccionados.length === 0) {\r\n        MySwal.fire({\r\n          icon: 'error',\r\n          title: 'Oops...',\r\n          text: 'Todos los campos son obligatorios',\r\n        });\r\n        return;\r\n      }\r\n\r\n      const docRef = await addDoc(collection(db, 'cotizaciones'), cotizacionData);\r\n      console.log('Cotizaci贸n guardada con ID: ', docRef.id);\r\n      obtenerCotizaciones();\r\n      setMostrarFormulario(false);\r\n    } catch (error) {\r\n      console.error('Error al guardar la cotizaci贸n:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {mostrarFormulario ? (\r\n        <CotizacionForm guardarCotizacion={guardarCotizacion} />\r\n      ) : (\r\n        <TablaCotizaciones cotizaciones={cotizaciones} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CotizacionesContainer;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,UAAU,EAAEC,OAAO,EAAEC,MAAM,QAAQ,oBAAoB;AAChE,SAASC,EAAE,QAAQ,mBAAmB;AACtC,OAAOC,IAAI,MAAM,aAAa;AAC9B,OAAOC,gBAAgB,MAAM,2BAA2B;AACxD,OAAOC,cAAc,MAAM,8BAA8B;AACzD,OAAOC,iBAAiB,MAAM,iCAAiC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhE,MAAMC,MAAM,GAAGL,gBAAgB,CAACD,IAAI,CAAC;AAACO,EAAA,GAAhCD,MAAM;AAEZ,SAASE,qBAAqBA,CAAA,EAAG;EAAAC,EAAA;EAC/B,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACkB,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAEhEC,SAAS,CAAC,MAAM;IACdmB,mBAAmB,CAAC,CAAC;EACvB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,IAAI;MACF,MAAMC,oBAAoB,GAAG,MAAMlB,OAAO,CAACD,UAAU,CAACG,EAAE,EAAE,cAAc,CAAC,CAAC;MAC1E,MAAMiB,iBAAiB,GAAGD,oBAAoB,CAACE,IAAI,CAACC,GAAG,CAACC,GAAG,KAAK;QAAEC,EAAE,EAAED,GAAG,CAACC,EAAE;QAAE,GAAGD,GAAG,CAACE,IAAI,CAAC;MAAE,CAAC,CAAC,CAAC;MAC/FV,eAAe,CAACK,iBAAiB,CAAC;IACpC,CAAC,CAAC,OAAOM,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;IAC5D;EACF,CAAC;EAED,MAAME,iBAAiB,GAAG,MAAOC,cAAc,IAAK;IAClD,IAAI;MACF,IAAI,CAACA,cAAc,CAACC,OAAO,IAAI,CAACD,cAAc,CAACE,MAAM,IAAI,CAACF,cAAc,CAACG,gBAAgB,IAAIH,cAAc,CAACI,sBAAsB,CAACC,MAAM,KAAK,CAAC,EAAE;QAC/IxB,MAAM,CAACyB,IAAI,CAAC;UACVC,IAAI,EAAE,OAAO;UACbC,KAAK,EAAE,SAAS;UAChBC,IAAI,EAAE;QACR,CAAC,CAAC;QACF;MACF;MAEA,MAAMC,MAAM,GAAG,MAAMrC,MAAM,CAACF,UAAU,CAACG,EAAE,EAAE,cAAc,CAAC,EAAE0B,cAAc,CAAC;MAC3EF,OAAO,CAACa,GAAG,CAAC,8BAA8B,EAAED,MAAM,CAACf,EAAE,CAAC;MACtDN,mBAAmB,CAAC,CAAC;MACrBD,oBAAoB,CAAC,KAAK,CAAC;IAC7B,CAAC,CAAC,OAAOS,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACzD;EACF,CAAC;EAED,oBACEjB,OAAA;IAAAgC,QAAA,EACGzB,iBAAiB,gBAChBP,OAAA,CAACH,cAAc;MAACsB,iBAAiB,EAAEA;IAAkB;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAExDpC,OAAA,CAACF,iBAAiB;MAACO,YAAY,EAAEA;IAAa;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EACjD;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAChC,EAAA,CA/CQD,qBAAqB;AAAAkC,GAAA,GAArBlC,qBAAqB;AAiD9B,eAAeA,qBAAqB;AAAC,IAAAD,EAAA,EAAAmC,GAAA;AAAAC,YAAA,CAAApC,EAAA;AAAAoC,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}